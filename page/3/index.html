<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/17/yuque/%E5%A4%A7%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/17/yuque/%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">大数据</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-17 01:10:12" itemprop="dateCreated datePublished" datetime="2021-09-17T01:10:12+08:00">2021-09-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:38" itemprop="dateModified" datetime="2023-02-07T21:28:38+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/13/yuque/Hbase%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/13/yuque/Hbase%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">Hbase操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-13 20:53:52" itemprop="dateCreated datePublished" datetime="2021-09-13T20:53:52+08:00">2021-09-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:48" itemprop="dateModified" datetime="2023-02-07T21:28:48+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="0-总体操作流程"><a href="#0-总体操作流程" class="headerlink" title="0 总体操作流程"></a>0 总体操作流程</h1><ol>
<li>client 请求到 Zookeeper，然后 Zookeeper 返回 HRegionServer 地址给 client</li>
<li>client 得到 Zookeeper 返回的地址去请求 HRegionServer，</li>
<li>HRegionServer 从 HDFS 读写数据后返回给 client。<br><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FoxoGTzSQ73G88ye66ouxoIe69CM.png"></li>
</ol>
<h1 id="1-查询"><a href="#1-查询" class="headerlink" title="1 查询"></a>1 查询</h1><h2 id="1-1-流程"><a href="#1-1-流程" class="headerlink" title="1.1 流程"></a>1.1 流程</h2><p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/Fp5a4UvHtzl9sGQkzjsEdt_TzrxK.png"></p>
<ol>
<li>hbase client 要读数据了，先从 zookeeper 中拿到 meta 表信息，根据要查的 rowkey 找到对应的数据在哪些 RegionServer 上</li>
<li>分别在这些 RegionServer 上根据列簇定位到 Region，</li>
<li>先在<strong>MemStore</strong>中查找，命中则返回，否则在<strong>Storefile</strong>中扫描，为了能快速的判断要查询的数据在不在这个 StoreFile 中，应用了<strong>BloomFilter</strong></li>
<li>根据数据的版本找到最新数据进行返回</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FkAuJDQruDuEqGuIv9v5aHonYG-K.png"></p>
<h2 id="1-2-查询方式"><a href="#1-2-查询方式" class="headerlink" title="1.2 查询方式"></a>1.2 查询方式</h2><ul>
<li>无法直接用 sql 查询，只能通过 rowKey 查询<ul>
<li>rowKey 底层也是 b+ Tree</li>
<li>把查询的条件字段放在 rowKey 中</li>
</ul>
</li>
</ul>
<p>注：有些中间件把 sql 翻译成 hbase 的查询规则，从而支持了 sql 间接查 hbase</p>
<ul>
<li>第一种是 scan：设置  <strong>startRow</strong>  和  <strong>stopRow</strong>  参数进行范围匹配<ul>
<li>[<strong>startRow, stopRow</strong>) 左闭右开</li>
</ul>
</li>
<li>第二种是根据一个 rowkey 进行查询</li>
<li>第三种是全表扫描，直接获取整张表中的所有行记录</li>
<li>如果 rowkey 复杂且查询条件复杂，hbase 还针对 rowkey 提供了自定义 Filter</li>
</ul>
<h2 id="1-3-设置-rowKey-需要注意的点"><a href="#1-3-设置-rowKey-需要注意的点" class="headerlink" title="1.3 设置 rowKey 需要注意的点"></a>1.3 设置 rowKey 需要注意的点</h2><blockquote>
<p>一条数据的唯一标识：rowKey<br>rowKey = 散列字段 + indicator 信息 + 时间戳</p>
</blockquote>
<ul>
<li>必须唯一</li>
<li>尽可能短<ul>
<li>每个 key-value 都包含 rowKey，这样可以节省存储空间</li>
</ul>
</li>
<li>数字需要补齐<ul>
<li>rowkey 是按照字符串字典序来组织成 B+树的，所以数字的话需要补齐，不然的话会出现 123w 小于 20w 的情况，但是补齐的话，你就会发现 020w 小于 123w</li>
</ul>
</li>
<li>rowKey 散列性<ul>
<li>数据是根据 rowkey 和一定的哈希规则，分散到不同的 Region 上面，而 Region 又是属于某一个 HRegionServer</li>
<li>rowKey 的前几个字符若一样，会分布在同一个 HRegionServer 上，导致 server 负载不均（堆积的热点现象）</li>
</ul>
</li>
</ul>
<hr>
<h1 id="2-写入"><a href="#2-写入" class="headerlink" title="2 写入"></a>2 写入</h1><p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FrP7KKf4q6DMXIgBzZOTK443rzzH.png"></p>
<h2 id="2-1-流程"><a href="#2-1-流程" class="headerlink" title="2.1 流程"></a>2.1 流程</h2><ol>
<li>hbase client 要写入了，先从 zookeeper 中拿到**.META.**表信息，根据数据的 rowkey 找到应该往哪个 RegionServer 写</li>
<li>然后记录操作日志<strong>WAL</strong>，再将数据写入对应<strong>MemStore</strong>中</li>
<li>判断 MemStore 是否超过阈值，（当 MemStore 大小超过阈值时，就会创建一个新的 MemStore，并且将老的 MemStore 添加到 flush 队列，由单独的线程 flush 到磁盘上，成为一个 StoreFile）</li>
<li>在触发了一定条件的时候，小的 StoreFile 会进行合并，变成大的 StoreFile，有利于 hdfs 存储</li>
</ol>
<hr>
<h2 id="2-2-LSM-三层模型（数据-gt-内存-gt-小文件-gt-大文件）"><a href="#2-2-LSM-三层模型（数据-gt-内存-gt-小文件-gt-大文件）" class="headerlink" title="2.2 LSM 三层模型（数据-&gt;内存-&gt;小文件-&gt;大文件）"></a>2.2 LSM 三层模型（数据-&gt;内存-&gt;小文件-&gt;大文件）</h2><p>LSM 被设计来提供比传统的 B+树或者 ISAM 更好的写操作吞吐量，通过消去随机的本地更新操作来达到这个目标。这个问题的本质还是<strong>磁盘随机操作慢，顺序读写快</strong>的老问题。这二种操作存在巨大的差距，无论是磁盘还是 SSD</p>
<ul>
<li>小文件-&gt;大文件：分两种： - minor compact，这种方式只会将少数文件进行简单合并，不会进行数据的清理。一般在生产环境禁止大合并，不然可能资源被耗光，无法正常提供服务。 - major compact，这种方式会将大部分文件进行合并，并且清理数据，十分消耗性能，一般在业务低峰期手动进行或定时任务执行</li>
</ul>
<h2 id="2-3-WAL-机制保证宕机时内存中数据恢复"><a href="#2-3-WAL-机制保证宕机时内存中数据恢复" class="headerlink" title="2.3 WAL 机制保证宕机时内存中数据恢复"></a>2.3 WAL 机制保证宕机时内存中数据恢复</h2><p>WAL，即 Write ahead log。<br>类似 mysql 中的 binlog，用来做灾难恢复之用，Hlog 记录数据的所有变更</p>
<ul>
<li>数据在更新时首先写入 HLog(WAL Log)，再写入内存(MemStore)中，MemStore 中的数据是排序的，当 MemStore 累计到一定阈值时，就会创建一个新的 MemStore，并且将老的 MemStore 添加到 flush 队列，由单独的线程 flush 到磁盘上，成为一个 StoreFile。于此同时，系统会在 ZooKeeper 中记录一个 redo point，表示这个时刻之前的变更已经持久化了。当系统出现意外时，可能导致内存(MemStore)中的数据丢失，此时使用 HLog(WAL Log)来恢复 checkpoint 之后的数据。</li>
<li>HLog 文件定期会滚动出新，并删除旧的文件(已持久化到 StoreFile 中的数据)。当 HRegionServer 意外终止 后，HMaster 会通过 ZooKeeper 感知，HMaster 首先处理遗留的 HLog 文件，将不同 Region 的 log 数据拆分，分别放到相应 Region 目录下，然后再将失效的 Region（带有刚刚拆分的 log） 重新分配，领取到这些 Region 的 HRegionServer 在 load Region 的过程中，会发现有历史 HLog 需要处理，因此会 Replay HLog 中的数据到 MemStore 中，然后 flush 到 StoreFiles，完成数据恢复。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FjmO7LjJAEEBfpsnnJE7HkJ6hnjx.png"></p>
<hr>
<h1 id="3-修改-删除"><a href="#3-修改-删除" class="headerlink" title="3 修改/删除"></a>3 修改/删除</h1><ul>
<li>修改时原数据不变，只是追加一条版本号最新的数据</li>
<li>删除时原数据不变，只是追加一条版本号最新的标识被删除的数据</li>
<li>查询时只查版本最新的数据</li>
</ul>
<p>注：LSM 第三层 hbase 在<em>major compact</em>时会把用不到的数据删除</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/13/yuque/Hbase%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/13/yuque/Hbase%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">Hbase逻辑结构</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-13 20:52:19" itemprop="dateCreated datePublished" datetime="2021-09-13T20:52:19+08:00">2021-09-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:54" itemprop="dateModified" datetime="2023-02-07T21:28:54+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>参考：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/54184168">https://zhuanlan.zhihu.com/p/54184168</a><br><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/Fvo8jmib0CglazvnO4jD6MN8I1P4.png"></p>
<ul>
<li>row key ：表的主键，按照字典序排序。</li>
<li>列簇：在 HBase 中，列簇将表进行横向切割。</li>
<li>列：属于某一个列簇，在 HBase 中可以进行动态的添加。</li>
<li>Cell : 是指具体的 Value 。</li>
<li>Version ：在这张图里面没有显示出来，这个是指版本号，用时间戳（TimeStamp ）来表示。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FnvguPJV6EiqOun1jf8XD26UEpYX.png"><br><strong>key ~ value</strong></p>
<ul>
<li>key:         rowKey + CF(ColumnFamily)  + Column + TimeStamp</li>
<li>value:     value</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/09/13/yuque/Hbase%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/13/yuque/Hbase%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">Hbase物理结构</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-13 20:33:27" itemprop="dateCreated datePublished" datetime="2021-09-13T20:33:27+08:00">2021-09-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:58" itemprop="dateModified" datetime="2023-02-07T21:28:58+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FlU6_ekCHKLdlYKBwyRZr5CTEPOO.png"><br><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/Fi9RbQT5VHrt4_TxrtOAT7_fjSaA.jpeg"></p>
<h2 id="1-Master"><a href="#1-Master" class="headerlink" title="1 Master"></a>1 Master</h2><ul>
<li>为 RegionServer 分配 Region</li>
<li>负责 RegionServer 的负载均衡</li>
<li>发现失效的 RegionServer 并重新分配其上的 Region</li>
</ul>
<p>注：client 访问 HBase 上数据的过程并不需要 Master 参与，在没有 Region 分裂的情况，Master 宕机一段时间是可以忍受的</p>
<hr>
<h2 id="2-RegionServer"><a href="#2-RegionServer" class="headerlink" title="2 RegionServer"></a>2 RegionServer</h2><ul>
<li>RegionServer 维护 Master 分配给它的 Region，处理对这些 Region 的 IO 请求</li>
<li>RegionServer 负责 Split 在运行过程中变得过大的 Region，负责 Compact 操作</li>
</ul>
<h3 id="2-1-Region"><a href="#2-1-Region" class="headerlink" title="2.1 Region"></a>2.1 Region</h3><blockquote>
<p>两个重要属性：startRowkey，endRowkey，表示 Region 维护的 rowKey 范围</p>
</blockquote>
<ul>
<li>Region 按大小分隔，每个表一开始只有一个 region。随着数据不断插入表，region 不断增大，当 region 的某个列簇达到阈值时就会分成两个新的 region。</li>
<li>每个 region 由以下信息标识：&lt; 表名,startRowkey,创建时间&gt;</li>
<li>由目录表(-ROOT-和.META.)记录该 region 的 endRowkey</li>
</ul>
<h4 id="2-1-1-Store"><a href="#2-1-1-Store" class="headerlink" title="2.1.1 Store"></a>2.1.1 Store</h4><ul>
<li>hbase 会把一起访问的数据放在一个 store 里面，即为每个 ColumnFamily 建一个 store。 HBase 以 store 的大小来判断是否需要切分 region</li>
</ul>
<h5 id="2-1-1-1-MemStore"><a href="#2-1-1-1-MemStore" class="headerlink" title="2.1.1.1 MemStore"></a>2.1.1.1 MemStore</h5><ul>
<li>memStore 是在内存里的。保存修改的数据即 keyValues。当 memStore 的大小达到阈值（默认 128MB）时，memStore 会被 flush 到 StoreFile。目前 hbase 会有一个线程来负责 memStore 的 flush 操作。</li>
</ul>
<h5 id="2-1-1-2-StoreFile"><a href="#2-1-1-2-StoreFile" class="headerlink" title="2.1.1.2 StoreFile"></a>2.1.1.2 StoreFile</h5><ul>
<li>StoreFile 底层是以 HFile 的格式保存。当 storefile 文件的数量增长到一定阈值后，系统会进行合并（minor、major compaction），在合并过程中会进行版本合并和删除工作（majar compaction 才会删除），形成更大的 storefile。</li>
<li>HFile 是 Hadoop 中的二进制格式文件，实际上 StoreFile 就是对 Hfile 做了轻量级包装，即 StoreFile 底层就是 HFile。</li>
</ul>
<h3 id="2-2-HLog"><a href="#2-2-HLog" class="headerlink" title="2.2 HLog"></a>2.2 HLog</h3><ul>
<li>HLog(WAL log)：WAL 意为 write ahead log，用来做灾难恢复使用，HLog 记录数据的所有变更，一旦 region server 宕机，就可以从 log 中进行恢复。</li>
</ul>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/08/03/yuque/liquibase/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/03/yuque/liquibase/" class="post-title-link" itemprop="url">liquibase</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-03 21:28:49" itemprop="dateCreated datePublished" datetime="2021-08-03T21:28:49+08:00">2021-08-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:58" itemprop="dateModified" datetime="2023-02-07T21:28:58+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">--删除唯一约束</span><br><span class="line"><span class="tag">&lt;<span class="name">dropNotNullConstraint</span> <span class="attr">tableName</span>=<span class="string">&quot;FDC_MES_DATA&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">columnName</span>=<span class="string">&quot;LAYER_ID&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">columnDataType</span>=<span class="string">&quot;bigint&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">--修改字段类型</span><br><span class="line"><span class="tag">&lt;<span class="name">modifyDataType</span>  <span class="attr">columnName</span>=<span class="string">&quot;NO_DATA_TIME&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">newDataType</span>=<span class="string">&quot;DATE&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">tableName</span>=<span class="string">&quot;HIST_CHAMBER_GROUP&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">nullable</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">--删除字段</span><br><span class="line"><span class="tag">&lt;<span class="name">dropColumn</span> <span class="attr">tableName</span>=<span class="string">&quot;HIST_CHAMBER_GROUP&quot;</span> <span class="attr">columnName</span>=<span class="string">&quot;CHAMBER_GROUP&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">--添加字段</span><br><span class="line"><span class="tag">&lt;<span class="name">addColumn</span> <span class="attr">tableName</span>=<span class="string">&quot;HIST_CHAMBER_GROUP&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;CHAMBER_GROUP&quot;</span> <span class="attr">type</span>=<span class="string">&quot;CLOB&quot;</span> <span class="attr">remarks</span>=<span class="string">&quot;Chamber Group的json对象&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">addColumn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">--创建唯一索引</span><br><span class="line"><span class="tag">&lt;<span class="name">createIndex</span> <span class="attr">indexName</span>=<span class="string">&quot;SYS_C007461&quot;</span> <span class="attr">tableName</span>=<span class="string">&quot;FDC_CONF_CHAMBER&quot;</span> <span class="attr">unique</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;TOOL_ID&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;CHAMBER_NAME&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">createIndex</span>&gt;</span></span><br><span class="line"></span><br><span class="line">--创建外键约束</span><br><span class="line"><span class="tag">&lt;<span class="name">addForeignKeyConstraint</span> <span class="attr">constraintName</span>=<span class="string">&quot;FK_FDC_CONF_MES_CHAMBER_MES_TOOL_ID&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">baseTableName</span>=<span class="string">&quot;FDC_CONF_MES_CHAMBER&quot;</span> <span class="attr">baseColumnNames</span>=<span class="string">&quot;MES_TOOL_ID&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">referencedTableName</span>=<span class="string">&quot;FDC_CONF_MES_TOOL&quot;</span> <span class="attr">referencedColumnNames</span>=<span class="string">&quot;ID&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">deferrable</span>=<span class="string">&quot;false&quot;</span> <span class="attr">initiallyDeferred</span>=<span class="string">&quot;false&quot;</span> <span class="attr">onDelete</span>=<span class="string">&quot;RESTRICT&quot;</span> <span class="attr">onUpdate</span>=<span class="string">&quot;RESTRICT&quot;</span> <span class="attr">validate</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">--删除外键约束</span><br><span class="line"><span class="tag">&lt;<span class="name">dropForeignKeyConstraint</span> <span class="attr">baseTableName</span>=<span class="string">&quot;FDC_CONF_SENSOR&quot;</span></span></span><br><span class="line"><span class="tag">                          <span class="attr">baseColumnNames</span>=<span class="string">&quot;CHAMBER_ID&quot;</span></span></span><br><span class="line"><span class="tag">                          <span class="attr">constraintName</span>=<span class="string">&quot;FK_CONF_SENSOR_CHAMBER_ID&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">--校验</span><br><span class="line"><span class="tag">&lt;<span class="name">preConditions</span> <span class="attr">onFail</span>=<span class="string">&quot;MARK_RAN&quot;</span> <span class="attr">onError</span>=<span class="string">&quot;MARK_RAN&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">tableExists</span> <span class="attr">tableName</span>=<span class="string">&quot;FDC_CONF_CHAMBER_GROUP_VIRTUAL_SENSOR_MAPPING&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">preConditions</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/28/yuque/DDD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/28/yuque/DDD/" class="post-title-link" itemprop="url">DDD</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-28 00:21:16" itemprop="dateCreated datePublished" datetime="2021-07-28T00:21:16+08:00">2021-07-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:58" itemprop="dateModified" datetime="2023-02-07T21:28:58+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>一种设计思想，不解决技术问题，只解决复杂的业务问题</p>
</blockquote>
<h1 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h1><ul>
<li>适合：<ul>
<li>复杂系统：维护老项目时提供帮助</li>
<li>容易剥离开业务和技术</li>
</ul>
</li>
<li>不适合<ul>
<li>不容易剥离开业务和技术：如 底层技术平台：</li>
<li>简单系统：如 新项目</li>
</ul>
</li>
</ul>
<p>ddd 可以指导拆分微服务<br>按限界上下文拆分微服务；上下文地图则为微服务之间的接口<br>单一职责原则</p>
<p>聚合：<br>整体消失时，部分也消失<br>整体产生前，部分不能产生<br>部分的生命周期在整体的内部</p>
<h1 id="领域模型到程序设计"><a href="#领域模型到程序设计" class="headerlink" title="领域模型到程序设计"></a>领域模型到程序设计</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/29/yuque/%E6%B3%A8%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/29/yuque/%E6%B3%A8%E8%A7%A3/" class="post-title-link" itemprop="url">注解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-29 00:12:19" itemprop="dateCreated datePublished" datetime="2021-06-29T00:12:19+08:00">2021-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:58" itemprop="dateModified" datetime="2023-02-07T21:28:58+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h1><ul>
<li><p>@Retention（标识注解存在阶段）</p>
<ul>
<li>@Retention(RetentionPolicy.SOURCE)，注解仅存在于源码中，在 class 字节码文件中不包含</li>
<li>@Retention(RetentionPolicy.CLASS)， 默认的保留策略，注解会在 class 字节码文件中存在，但运行时无法获得</li>
<li>@Retention(RetentionPolicy.RUNTIME)， 注解会在 class 字节码文件中存在，在运行时可以通过反射获取到</li>
</ul>
</li>
<li><p>@Target（注解作用的范围）</p>
<ul>
<li>@Target(ElementType.TYPE) 作用接口、类、枚举、注解</li>
<li>@Target(ElementType.FIELD) 作用属性字段、枚举的常量</li>
<li>@Target(ElementType.METHOD) 作用方法</li>
<li>@Target(ElementType.PARAMETER) 作用方法参数</li>
<li>@Target(ElementType.CONSTRUCTOR) 作用构造函数</li>
<li>@Target(ElementType.LOCAL_VARIABLE)作用局部变量</li>
<li>@Target(ElementType.ANNOTATION_TYPE)作用于注解（@Retention 注解中就使用该属性）</li>
<li>@Target(ElementType.PACKAGE) 作用于包</li>
<li>@Target(ElementType.TYPE_PARAMETER) 作用于类型泛型，即泛型方法、泛型类、泛型接口 （jdk1.8 加入）</li>
<li>@Target(ElementType.TYPE_USE) 类型使用.可以用于标注任意类型除了 class （jdk1.8 加入）</li>
</ul>
</li>
<li><p>@Inherited（继承，一个被@Inherited 注解了的注解修饰了一个父类，如果他的子类没有被其他注解修饰，则它的子类也继承了父类的注解。）</p>
</li>
<li><p>@Documented（它的作用是能够将注解中的元素包含到 Javadoc 中去。）</p>
</li>
<li><p>@Repeatable（可重复的。被这个元注解修饰的注解可以同时作用一个对象多次，但是每次作用注解又可以代表不同的含义）</p>
</li>
</ul>
<h1 id="java-自带标准注解"><a href="#java-自带标准注解" class="headerlink" title="java 自带标准注解"></a>java 自带标准注解</h1><p>包括@Override、@Deprecated、@SuppressWarnings 等，使用这些注解后编译器就会进行检查。</p>
<h1 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h1><p><strong>使用 @interface 定义注解时，意味着它实现了 java.lang.annotation.Annotation 接口，即该注解就是一个 Annotation。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTestAnnotation &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/28/yuque/javax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/28/yuque/javax/" class="post-title-link" itemprop="url">javax</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-28 23:43:32" itemprop="dateCreated datePublished" datetime="2021-06-28T23:43:32+08:00">2021-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:28:58" itemprop="dateModified" datetime="2023-02-07T21:28:58+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="javax-validation"><a href="#javax-validation" class="headerlink" title="javax.validation"></a>javax.validation</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Null</span>  被注释的元素必须为<span class="literal">null</span></span><br><span class="line"><span class="meta">@NotNull</span>  被注释的元素不能为<span class="literal">null</span></span><br><span class="line"><span class="meta">@AssertTrue</span>  被注释的元素必须为<span class="literal">true</span></span><br><span class="line"><span class="meta">@AssertFalse</span>  被注释的元素必须为<span class="literal">false</span></span><br><span class="line"><span class="meta">@Min(value)</span>  被注释的元素必须是一个数字，其值必须大于等于指定的最小值</span><br><span class="line"><span class="meta">@Max(value)</span>  被注释的元素必须是一个数字，其值必须小于等于指定的最大值</span><br><span class="line"><span class="meta">@DecimalMin(value)</span>  被注释的元素必须是一个数字，其值必须大于等于指定的最小值</span><br><span class="line"><span class="meta">@DecimalMax(value)</span>  被注释的元素必须是一个数字，其值必须小于等于指定的最大值</span><br><span class="line"><span class="meta">@Size(max,min)</span>  被注释的元素的大小必须在指定的范围内。</span><br><span class="line"><span class="meta">@Digits(integer,fraction)</span>  被注释的元素必须是一个数字，其值必须在可接受的范围内</span><br><span class="line"><span class="meta">@Past</span>  被注释的元素必须是一个过去的日期</span><br><span class="line"><span class="meta">@Future</span>  被注释的元素必须是一个将来的日期</span><br><span class="line"><span class="meta">@Pattern(value)</span> 被注释的元素必须符合指定的正则表达式。</span><br><span class="line"><span class="meta">@Email</span> 被注释的元素必须是电子邮件地址</span><br><span class="line"><span class="meta">@Length</span> 被注释的字符串的大小必须在指定的范围内</span><br><span class="line"><span class="meta">@NotEmpty</span>  被注释的字符串必须非空</span><br><span class="line"><span class="meta">@Range</span>  被注释的元素必须在合适的范围内</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/21/yuque/BASE%E7%90%86%E8%AE%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/21/yuque/BASE%E7%90%86%E8%AE%BA/" class="post-title-link" itemprop="url">BASE理论</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-21 00:54:41" itemprop="dateCreated datePublished" datetime="2021-06-21T00:54:41+08:00">2021-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:29:00" itemprop="dateModified" datetime="2023-02-07T21:29:00+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>即使无法做到强一致性（Strong consistency），但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性（Eventual consistency）。</p>
</blockquote>
<ul>
<li>Basically Available（基本可用）</li>
<li>Soft state（软状态）</li>
<li>Eventually consistent（最终一致性）</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/FlXkqNXDgYzbzpSMLxQ_rBQgpqBD.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/19/yuque/%E6%9C%80%E5%A4%A7%E5%8A%AA%E5%8A%9B%E9%80%9A%E7%9F%A5%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/19/yuque/%E6%9C%80%E5%A4%A7%E5%8A%AA%E5%8A%9B%E9%80%9A%E7%9F%A5%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">最大努力通知方案</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-19 23:17:32" itemprop="dateCreated datePublished" datetime="2021-06-19T23:17:32+08:00">2021-06-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-07 21:29:03" itemprop="dateModified" datetime="2023-02-07T21:29:03+08:00">2023-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://cdn.jsdelivr.net/gh/heheii/blog-imag/blog-images/Fh2ACUoyQi6NAvQJEeculGKYefst.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">114</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
